<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML Slice</title>
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="assets/SCSS/main.css">
</head>

<body>
    <header class="header --t05">
        <div class="palms  --t05">

        </div>
        <div class="new  --t05">

        </div>
        <div class="phone  --t05">

        </div>

    </header>
    <main class="warper">
        <section class="warper-games">
            <ul id="gameList">
                <li>
                    <figure
                        style="background-image:url(https://bl-bg-site.palmsbet.com/pub/online-game-images/ECASINO/online-gameapi-ctrgs/2211.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://www.palmsbet.com/images/gamesImages/ZiuiGedSZiuEuePAbpBQYbRmeuVqtynQnyvQblyLJqkuZTAGLnUhuICDbyVSUYIt.jpg);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://www.palmsbet.com/images/gamesImages/ZiuiGedSZiuEuePAbpBQYbRmeuVqtynQnyvQblyLJqkuZTAGLnUhuICDbyVSUYIt.jpg);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://bl-bg-site.palmsbet.com/pub/online-game-images/ECASINO/online-gameapi-ctrgs/2211.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://bl-bg-site.palmsbet.com/pub/online-game-images/ECASINO/online-gameapi-ctrgs/2211.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://bl-bg-site.palmsbet.com/pub/online-game-images/ECASINO/online-gameapi-ctrgs/2211.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://www.palmsbet.com/images/gamesImages/ZiuiGedSZiuEuePAbpBQYbRmeuVqtynQnyvQblyLJqkuZTAGLnUhuICDbyVSUYIt.jpg);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://bl-bg-site.palmsbet.com/pub/online-game-images/ECASINO/online-gameapi-ctrgs/2211.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://bl-bg-site.palmsbet.com/pub/online-game-images/ECASINO/online-gameapi-ctrgs/2211.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://bl-bg-site.palmsbet.com/pub/online-game-images/ECASINO/online-gameapi-ctrgs/2211.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://bl-bg-site.palmsbet.com/pub/online-game-images/ECASINO/online-gameapi-ctrgs/2211.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://bl-bg-site.palmsbet.com/pub/online-game-images/ECASINO/online-gameapi-ctrgs/2211.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://bl-bg-site.palmsbet.com/pub/online-game-images/ECASINO/online-gameapi-ctrgs/2211.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://www.palmsbet.com/images/gamesImages/ZiuiGedSZiuEuePAbpBQYbRmeuVqtynQnyvQblyLJqkuZTAGLnUhuICDbyVSUYIt.jpg);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://www.palmsbet.com/images/gamesImages/ZiuiGedSZiuEuePAbpBQYbRmeuVqtynQnyvQblyLJqkuZTAGLnUhuICDbyVSUYIt.jpg);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://bl-bg-site.palmsbet.com/pub/online-game-images/ECASINO/online-gameapi-ctrgs/2211.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://bl-bg-site.palmsbet.com/pub/online-game-images/ECASINO/online-gameapi-ctrgs/2211.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://bl-bg-site.palmsbet.com/pub/online-game-images/ECASINO/online-gameapi-ctrgs/2211.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://www.palmsbet.com/images/gamesImages/ZiuiGedSZiuEuePAbpBQYbRmeuVqtynQnyvQblyLJqkuZTAGLnUhuICDbyVSUYIt.jpg);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://www.palmsbet.com/images/gamesImages/tsfdsgGzmIHkIIAVZnTFjGlRbpkelNaOgsbabtwikoLPJBiplYNHTkFMFfBXegCr.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://bl-bg-site.palmsbet.com/pub/online-game-images/ECASINO/online-gameapi-ctrgs/2211.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://www.palmsbet.com/images/gamesImages/tsfdsgGzmIHkIIAVZnTFjGlRbpkelNaOgsbabtwikoLPJBiplYNHTkFMFfBXegCr.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://bl-bg-site.palmsbet.com/pub/online-game-images/ECASINO/online-gameapi-ctrgs/2211.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>
                    <figure
                        style="background-image:url(https://www.palmsbet.com/images/gamesImages/tsfdsgGzmIHkIIAVZnTFjGlRbpkelNaOgsbabtwikoLPJBiplYNHTkFMFfBXegCr.png);">
                    </figure>
                    <div class="gameInfo">
                        <span>Game Name</span>
                    </div>
                    <div class="gamePlay">
                        <a href="#">Демо</a>
                        <a href="#">Играй</a>
                    </div>
                </li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
                <li>1</li>
            </ul>
        </section>
    </main>
    <script>

        let gamesListURL = "https://www.palmsbet.com/static/games_bg.json";
        let gamesListFilter = [];
        let gameList = document.getElementById("gameList");
        let startList = 0;
        let maxPerLoad = 20;
        let endOfTheList = 0;

        function printHTML() {
            let allItemsCont = Object.keys(gamesListFilter).length;
            console.log(endOfTheList);

            endOfTheList += maxPerLoad;
            if (endOfTheList > allItemsCont) {
                endOfTheList = allItemsCont;
            }

            for (startList; startList < endOfTheList; startList++) {
                console.log("startList");
                console.log(gamesListFilter[startList]);
                console.log(startList);

                var item = document.createElement("I");
                item.innerHTML= "blabla"

                item.id = "5";
                gameList.appendChild(item);





            }

        }


        function sortData(data) {
            let obj = data.game_list;
            Object.keys(obj).forEach(function (key, value) {
                if (key, obj[key].vendor_code === "CTRGSECASINO") {
                     gamesListFilter.push([key, obj[key]]);
                }
            });



            // let obj = data.game_list;
            // Object.keys(obj).forEach(function (key, value) {
            // if (key, obj[key].vendor_code === "CTRGSECASINO") {
            // gamesListFilter[key] = obj[key];
            // }
            // }); 
            printHTML();
        }

        fetchGamesList((error, data) => {
            if (error)
                console.log(error);
            else
                sortData(data);
        });


        function fetchGamesList(callback) {
            fetch(gamesListURL)
                .then(response => response.json())
                .then(json => callback(null, json))
                .catch(error => callback(error, null))
        }

    </script>

</body>

</html>